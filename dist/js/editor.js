!function(){var e={579:function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}!function(){"use strict";"object"!==e(window.SUI)&&(window.SUI={});var t=t||{};t.KeyCode={BACKSPACE:8,TAB:9,RETURN:13,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},t.Utils=t.Utils||{},t.Utils.remove=function(e){return e.remove&&"function"===typeof e.remove?e.remove():!(!e.parentNode||!e.parentNode.removeChild||"function"!==typeof e.parentNode.removeChild)&&e.parentNode.removeChild(e)},t.Utils.isFocusable=function(e){if(0<e.tabIndex||0===e.tabIndex&&null!==e.getAttribute("tabIndex"))return!0;if(e.disabled)return!1;switch(e.nodeName){case"A":return!!e.href&&"ignore"!=e.rel;case"INPUT":return"hidden"!=e.type&&"file"!=e.type;case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},t.Utils.simulateClick=function(e){var t=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});e.dispatchEvent(t)},t.Utils.IgnoreUtilFocusChanges=!1,t.Utils.dialogOpenClass="sui-has-modal",t.Utils.focusFirstDescendant=function(e){for(var o=0;o<e.childNodes.length;o++){var a=e.childNodes[o];if(t.Utils.attemptFocus(a)||t.Utils.focusFirstDescendant(a))return!0}return!1},t.Utils.focusLastDescendant=function(e){for(var o=e.childNodes.length-1;0<=o;o--){var a=e.childNodes[o];if(t.Utils.attemptFocus(a)||t.Utils.focusLastDescendant(a))return!0}return!1},t.Utils.attemptFocus=function(e){if(!t.Utils.isFocusable(e))return!1;t.Utils.IgnoreUtilFocusChanges=!0;try{e.focus()}catch(e){}return t.Utils.IgnoreUtilFocusChanges=!1,document.activeElement===e},t.OpenDialogList=t.OpenDialogList||new Array(0),t.getCurrentDialog=function(){if(t.OpenDialogList&&t.OpenDialogList.length)return t.OpenDialogList[t.OpenDialogList.length-1]},t.closeCurrentDialog=function(){var e=t.getCurrentDialog();return!!e&&(e.close(),!0)},t.handleEscape=function(e){(e.which||e.keyCode)===t.KeyCode.ESC&&t.closeCurrentDialog()&&e.stopPropagation()},t.Dialog=function(o,a,i,s){var d=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],n=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(this.dialogNode=document.getElementById(o),null===this.dialogNode)throw new Error('No element found with id="'+o+'".');var l=["dialog","alertdialog"];if(!(this.dialogNode.getAttribute("role")||"").trim().split(/\s+/g).some((function(e){return l.some((function(t){return e===t}))})))throw new Error("Dialog() requires a DOM element with ARIA role of dialog or alertdialog.");this.isCloseOnEsc=d;var r=new Event("open");this.dialogNode.dispatchEvent(r);var c="sui-modal";if(this.dialogNode.parentNode.classList.contains(c)?this.backdropNode=this.dialogNode.parentNode:(this.backdropNode=document.createElement("div"),this.backdropNode.className=c,this.backdropNode.setAttribute("data-markup","new"),this.dialogNode.parentNode.insertBefore(this.backdropNode,this.dialogNodev),this.backdropNode.appendChild(this.dialogNode)),this.backdropNode.classList.add("sui-active"),document.body.parentNode.classList.add(t.Utils.dialogOpenClass),"string"===typeof a)this.focusAfterClosed=document.getElementById(a);else{if("object"!==e(a))throw new Error("the focusAfterClosed parameter is required for the aria.Dialog constructor.");this.focusAfterClosed=a}"string"===typeof i?this.focusFirst=document.getElementById(i):"object"===e(i)?this.focusFirst=i:this.focusFirst=null;var u=document.createElement("div");this.preNode=this.dialogNode.parentNode.insertBefore(u,this.dialogNode),this.preNode.tabIndex=0,"boolean"===typeof s&&!0===s&&(this.preNode.classList.add("sui-modal-overlay"),this.preNode.onclick=function(){t.getCurrentDialog().close()});var m=document.createElement("div");this.postNode=this.dialogNode.parentNode.insertBefore(m,this.dialogNode.nextSibling),this.postNode.tabIndex=0,0<t.OpenDialogList.length&&t.getCurrentDialog().removeListeners(),this.addListeners(),t.OpenDialogList.push(this),n?(this.dialogNode.classList.add("sui-content-fade-in"),this.dialogNode.classList.remove("sui-content-fade-out")):(this.dialogNode.classList.remove("sui-content-fade-in"),this.dialogNode.classList.remove("sui-content-fade-out")),this.focusFirst?this.focusFirst.focus():t.Utils.focusFirstDescendant(this.dialogNode),this.lastFocus=document.activeElement;var g=new Event("afterOpen");this.dialogNode.dispatchEvent(g)},t.Dialog.prototype.close=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],o=this,a=new Event("close");this.dialogNode.dispatchEvent(a),t.OpenDialogList.pop(),this.removeListeners(),this.preNode.parentNode.removeChild(this.preNode),this.postNode.parentNode.removeChild(this.postNode),e?(this.dialogNode.classList.add("sui-content-fade-out"),this.dialogNode.classList.remove("sui-content-fade-in")):(this.dialogNode.classList.remove("sui-content-fade-in"),this.dialogNode.classList.remove("sui-content-fade-out")),this.focusAfterClosed.focus(),setTimeout((function(){o.backdropNode.classList.remove("sui-active")}),300),setTimeout((function(){var e=o.dialogNode.querySelectorAll(".sui-modal-slide");if(0<e.length){for(var t=0;t<e.length;t++)e[t].setAttribute("disabled",!0),e[t].classList.remove("sui-loaded"),e[t].classList.remove("sui-active"),e[t].setAttribute("tabindex","-1"),e[t].setAttribute("aria-hidden",!0);if(e[0].hasAttribute("data-modal-size")){var a=e[0].getAttribute("data-modal-size");switch(a){case"sm":case"small":a="sm";break;case"md":case"med":case"medium":a="md";break;case"lg":case"large":a="lg";break;case"xl":case"extralarge":case"extraLarge":case"extra-large":a="xl";break;default:a=void 0}void 0!==a&&(o.dialogNode.parentNode.classList.remove("sui-modal-sm"),o.dialogNode.parentNode.classList.remove("sui-modal-md"),o.dialogNode.parentNode.classList.remove("sui-modal-lg"),o.dialogNode.parentNode.classList.remove("sui-modal-xl"),o.dialogNode.parentNode.classList.add("sui-modal-"+a))}var i,s,d,n;if(e[0].classList.add("sui-active"),e[0].classList.add("sui-loaded"),e[0].removeAttribute("disabled"),e[0].removeAttribute("tabindex"),e[0].removeAttribute("aria-hidden"),e[0].hasAttribute("data-modal-labelledby"))i="",""===(s=e[0].getAttribute("data-modal-labelledby"))&&void 0===s||(i=s),o.dialogNode.setAttribute("aria-labelledby",i);if(e[0].hasAttribute("data-modal-describedby"))d="",""===(n=e[0].getAttribute("data-modal-describedby"))&&void 0===n||(d=n),o.dialogNode.setAttribute("aria-describedby",d)}}),350),0<t.OpenDialogList.length?t.getCurrentDialog().addListeners():document.body.parentNode.classList.remove(t.Utils.dialogOpenClass);var i=new Event("afterClose");this.dialogNode.dispatchEvent(i)},t.Dialog.prototype.replace=function(e,o,a,i){var s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],d=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],n=this;t.OpenDialogList.pop(),this.removeListeners(),t.Utils.remove(this.preNode),t.Utils.remove(this.postNode),d?(this.dialogNode.classList.add("sui-content-fade-in"),this.dialogNode.classList.remove("sui-content-fade-out")):(this.dialogNode.classList.remove("sui-content-fade-in"),this.dialogNode.classList.remove("sui-content-fade-out")),this.backdropNode.classList.remove("sui-active"),setTimeout((function(){var e=n.dialogNode.querySelectorAll(".sui-modal-slide");if(0<e.length){for(var t=0;t<e.length;t++)e[t].setAttribute("disabled",!0),e[t].classList.remove("sui-loaded"),e[t].classList.remove("sui-active"),e[t].setAttribute("tabindex","-1"),e[t].setAttribute("aria-hidden",!0);if(e[0].hasAttribute("data-modal-size")){var o=e[0].getAttribute("data-modal-size");switch(o){case"sm":case"small":o="sm";break;case"md":case"med":case"medium":o="md";break;case"lg":case"large":o="lg";break;case"xl":case"extralarge":case"extraLarge":case"extra-large":o="xl";break;default:o=void 0}void 0!==o&&(n.dialogNode.parentNode.classList.remove("sui-modal-sm"),n.dialogNode.parentNode.classList.remove("sui-modal-md"),n.dialogNode.parentNode.classList.remove("sui-modal-lg"),n.dialogNode.parentNode.classList.remove("sui-modal-xl"),n.dialogNode.parentNode.classList.add("sui-modal-"+o))}var a,i,s,d;if(e[0].classList.add("sui-active"),e[0].classList.add("sui-loaded"),e[0].removeAttribute("disabled"),e[0].removeAttribute("tabindex"),e[0].removeAttribute("aria-hidden"),e[0].hasAttribute("data-modal-labelledby"))a="",""===(i=e[0].getAttribute("data-modal-labelledby"))&&void 0===i||(a=i),n.dialogNode.setAttribute("aria-labelledby",a);if(e[0].hasAttribute("data-modal-describedby"))s="",""===(d=e[0].getAttribute("data-modal-describedby"))&&void 0===d||(s=d),n.dialogNode.setAttribute("aria-describedby",s)}}),350);var l=o||this.focusAfterClosed;new t.Dialog(e,l,a,i,s,d)},t.Dialog.prototype.slide=function(o,a,i){var s,d,n,l,r="sui-fadein",c=(t.getCurrentDialog(),this.dialogNode.querySelectorAll(".sui-modal-slide")),u=document.getElementById(o);switch(i){case"back":case"left":r="sui-fadein-left";break;case"next":case"right":r="sui-fadein-right";break;default:r="sui-fadein"}for(var m=0;m<c.length;m++)c[m].setAttribute("disabled",!0),c[m].classList.remove("sui-loaded"),c[m].classList.remove("sui-active"),c[m].setAttribute("tabindex","-1"),c[m].setAttribute("aria-hidden",!0);if(u.hasAttribute("data-modal-size")){var g=u.getAttribute("data-modal-size");switch(g){case"sm":case"small":g="sm";break;case"md":case"med":case"medium":g="md";break;case"lg":case"large":g="lg";break;case"xl":case"extralarge":case"extraLarge":case"extra-large":g="xl";break;default:g=void 0}void 0!==g&&(this.dialogNode.parentNode.classList.remove("sui-modal-sm"),this.dialogNode.parentNode.classList.remove("sui-modal-md"),this.dialogNode.parentNode.classList.remove("sui-modal-lg"),this.dialogNode.parentNode.classList.remove("sui-modal-xl"),this.dialogNode.parentNode.classList.add("sui-modal-"+g))}u.hasAttribute("data-modal-labelledby")&&(s="",""===(d=u.getAttribute("data-modal-labelledby"))&&void 0===d||(s=d),this.dialogNode.setAttribute("aria-labelledby",s));u.hasAttribute("data-modal-describedby")&&(n="",""===(l=u.getAttribute("data-modal-describedby"))&&void 0===l||(n=l),this.dialogNode.setAttribute("aria-describedby",n));u.classList.add("sui-active"),u.classList.add(r),u.removeAttribute("tabindex"),u.removeAttribute("aria-hidden"),setTimeout((function(){u.classList.add("sui-loaded"),u.classList.remove(r),u.removeAttribute("disabled")}),600),"string"===typeof a?this.newSlideFocus=document.getElementById(a):"object"===e(a)?this.newSlideFocus=a:this.newSlideFocus=null,this.newSlideFocus?this.newSlideFocus.focus():t.Utils.focusFirstDescendant(this.dialogNode)},t.Dialog.prototype.addListeners=function(){document.addEventListener("focus",this.trapFocus,!0),this.isCloseOnEsc&&this.dialogNode.addEventListener("keyup",t.handleEscape)},t.Dialog.prototype.removeListeners=function(){document.removeEventListener("focus",this.trapFocus,!0)},t.Dialog.prototype.trapFocus=function(e){var o=e.target.parentElement;if(!(t.Utils.IgnoreUtilFocusChanges||o&&o.classList.contains("wp-link-input"))){var a=t.getCurrentDialog();a.dialogNode.contains(e.target)?a.lastFocus=e.target:(t.Utils.focusFirstDescendant(a.dialogNode),a.lastFocus==document.activeElement&&t.Utils.focusLastDescendant(a.dialogNode),a.lastFocus=document.activeElement)}},SUI.openModal=function(e,o,a,i){var s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],d=arguments.length>5?arguments[5]:void 0;new t.Dialog(e,o,a,i,s,d)},SUI.closeModal=function(e){t.getCurrentDialog().close(e)},SUI.replaceModal=function(e,o,a,i){var s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],d=arguments.length>5?arguments[5]:void 0;t.getCurrentDialog().replace(e,o,a,i,s,d)},SUI.slideModal=function(e,o,a){t.getCurrentDialog().slide(e,o,a)}}(),function(t){"use strict";"object"!==e(window.SUI)&&(window.SUI={}),SUI.modalDialog=function(){return function(){var o,a,i,s,d,n,l,r,c,u,m,g;a=t("[data-modal-open]"),i=t("[data-modal-close]"),s=t("[data-modal-replace]"),d=t("[data-modal-slide]"),n=t(".sui-modal-overlay"),a.on("click",(function(a){o=t(this),l=o.attr("data-modal-open"),c=o.attr("data-modal-close-focus"),u=o.attr("data-modal-open-focus"),n=o.attr("data-modal-mask"),g=o.attr("data-modal-animated");var i="false"!==o.attr("data-esc-close");"undefined"!==e(c)&&!1!==c&&""!==c||(c=this),"undefined"!==e(u)&&!1!==u&&""!==u||(u=void 0),n="undefined"!==e(n)&&!1!==n&&"true"===n,g="undefined"===e(g)||!1===g||"false"!==g,"undefined"!==e(l)&&!1!==l&&""!==l&&SUI.openModal(l,c,u,n,i,g),a.preventDefault()})),s.on("click",(function(a){o=t(this),l=o.attr("data-modal-replace"),c=o.attr("data-modal-close-focus"),u=o.attr("data-modal-open-focus"),n=o.attr("data-modal-replace-mask");var i="false"!==o.attr("data-esc-close");"undefined"!==e(c)&&!1!==c&&""!==c||(c=void 0),"undefined"!==e(u)&&!1!==u&&""!==u||(u=void 0),n="undefined"!==e(n)&&!1!==n&&"true"===n,"undefined"!==e(l)&&!1!==l&&""!==l&&SUI.replaceModal(l,c,u,n,i,g),a.preventDefault()})),d.on("click",(function(a){o=t(this),r=o.attr("data-modal-slide"),u=o.attr("data-modal-slide-focus"),m=o.attr("data-modal-slide-intro"),"undefined"!==e(u)&&!1!==u&&""!==u||(u=void 0),"undefined"!==e(m)&&!1!==m&&""!==m||(m=""),"undefined"!==e(r)&&!1!==r&&""!==r&&SUI.slideModal(r,u,m),a.preventDefault()})),i.on("click",(function(e){SUI.closeModal(g),e.preventDefault()}))}(),this},SUI.modalDialog()}(jQuery)}},t={};function o(a){var i=t[a];if(void 0!==i)return i.exports;var s=t[a]={exports:{}};return e[a](s,s.exports,o),s.exports}o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,{a:t}),t},o.d=function(e,t){for(var a in t)o.o(t,a)&&!o.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";var e=window.wp.element,t=window.jQuery,a=o.n(t);o(579);const i=e=>e.replace(/<[^>]*>?/gm,"").replace(/[ ]+/g," "),s=(e,t="error")=>`<div class="sui-notice sui-notice-${t}">\n\t\t\t\t\t\t\t<div class="sui-notice-content">\n\t\t\t\t\t\t\t\t<div class="sui-notice-message">\n\t\t\t\t\t\t\t\t\t<span class="sui-notice-icon sui-icon-info sui-md" aria-hidden="true"></span>\n\t\t\t\t\t\t\t\t\t<p>${e}</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>`,d=e=>{const t=e.prop("selectionStart"),o=e.prop("selectionEnd"),a=e.val();return a&&void 0!==t&&void 0!==o?a.substring(t,o):""},n=()=>!!EasyTTSEditor.isBlockEditor&&EasyTTSEditor.isBlockEditor,{__:l}=wp.i18n,r=["core/paragraph","core/heading"],{createHigherOrderComponent:c}=wp.compose,{Fragment:u,useState:m}=wp.element,{BlockControls:g}=wp.blockEditor,{ToolbarGroup:p,ToolbarButton:f,Icon:v}=wp.components,h=c((t=>o=>{if(!r.includes(o.name))return(0,e.createElement)(t,o);const{setAttributes:i}=o;return(0,e.createElement)(u,null,(0,e.createElement)(g,{group:"block"},(0,e.createElement)(p,null,(0,e.createElement)(f,{icon:(0,e.createElement)(v,{icon:"controls-volumeon"}),label:l("Text-to-Speech","easy-text-to-speech"),showTooltip:"true",onClick:()=>{let e=(()=>{let e=window.getSelection().toString();if(!e){e=a()(".wp-block-post-content").text();let t=wp.data.select("core/block-editor").getBlocks(),o="";t.length>0&&(t.forEach((function(e){r.includes(e.name)&&(o+=e.attributes.content+"\n\n")})),e=o)}return e})(),t=a()("#easytts-content");a()("#generate_voice_result_msg").html(""),t.val(""),e=t.html(e).text(),e=e.replace(/(<([^>]+)>)/gi,""),t.val(e),window.SUI.openModal("easytts-modal","wpbody-content",void 0,!0)}}))),(0,e.createElement)(t,o))}),"withToolbarButton");var b;wp.hooks.addFilter("editor.BlockEdit","easytts/toolbar-button",h,99),(b=a())(".aws_polly_engine_for_content").on("change",(function(e){e.preventDefault();const t=b("#generate_voice_result_msg");b.post(ajaxurl,{beforeSend(){a()("#aws_polly_voice").attr("disabled","disabled"),t.html("")},action:"easytts_voice_list",nonce:b("#content_nonce").val(),engine:b(this).val()},(function(e){if(e.success)b("#aws_polly_voice").html(e.data.html);else{b("#aws_polly_voice").html("");const o=s(e.data.message,"error");t.html(o)}})).done((function(){a()("#aws_polly_voice").attr("disabled",!1)}))})),b(document).on("click",".easytts-classic-editor-btn",(function(e){const t=b(this).data("editor-id")||"content";var o;let s="";if(o=t,a()("#wp-"+o+"-wrap").hasClass("tmce-active"))s=((e,t)=>{if("undefined"==typeof e&&(e=wpActiveEditor),"undefined"==typeof t&&(t=e),a()("#wp-"+e+"-wrap").hasClass("tmce-active")&&tinyMCE.get(e)){const t=tinyMCE.get(e).selection.getContent({format:"text"});return t?t.trim():tinyMCE.get(e).getContent({format:"text"})}{const e=d(a()("#"+t));return i(e||a()("#"+t).val())}})(t);else{const e=d(b("#"+t));s=e?e.trim():b("#"+t).val(),s=i(s)}b("#easytts-editor-id").val(t),b("#easytts-content").text(s),SUI.openModal("easytts-modal",this,void 0,!0,!0,!1)})),b(document).on("click","#easytts-modal-close",(function(e){e.preventDefault(),a()(".wp-toolbar").removeClass("sui-has-modal"),a()(".sui-modal").removeClass("sui-active"),window.SUI.closeModal()})),b(document).on("easytts-audio-generated",(function(e){a()(".wp-toolbar").removeClass("sui-has-modal"),a()(".sui-modal").removeClass("sui-active"),window.SUI.closeModal()})),b(document).on("submit","#easytts-voice-generator-form",(function(e){e.preventDefault();const t=b("#generate_voice_result_msg"),o=b("#easytts-generate-voice"),i=b("#easytts-editor-id").val();b.post(ajaxurl,{beforeSend(){t.html(""),o.addClass("sui-button-onload-text")},action:"easytts_generate_voice",nonce:b("#content_nonce").val(),data:b("#easytts-voice-generator-form").serialize(),title:n()?wp.data.select("core/editor").getEditedPostAttribute("title"):a()("#titlewrap").find("input").val()},(function(e){if(e.success){if(b(document).trigger("easytts-audio-generated"),n()){let t="core/audio",o=wp.blocks.createBlock(t,{id:e.data.attachment_id,src:e.data.attachment_url,caption:b("#easytts_tts_disclosure").val()});return void wp.data.dispatch("core/block-editor").insertBlocks(o)}if(wp&&wp.media&&wp.media.editor){wpActiveEditor&&tinyMCE&&tinyMCE.get(wpActiveEditor).selection.collapse(),wp.media.editor.activeEditor=i;let t=wp.media.editor.get(i);(!t||t.options&&t.state!==t.options.state)&&(t=wp.media.editor.add(i,{})),wp.media.frame=t,wp.media.frame.content.mode("browse"),wp.media.frame.on("open",(function(){null!==wp.media.frame.content.get()&&(wp.media.frame.content.get().collection._requery(!0),wp.media.frame.content.get().options.selection.reset());let t=wp.media.frame.state().get("selection"),o=wp.media.attachment(e.data.attachment_id);o.set("type","audio"),o.set("filename","easytts.mp3"),o.set("meta",{bitrate:48e3,bitrate_mode:"cbr"}),t.multiple=!1,t.add(o)}),this),wp.media.frame.open()}}else{const o=s(e.data.message,"error");t.html(o)}})).done((function(){o.removeClass("sui-button-onload-text")}))}))}()}();